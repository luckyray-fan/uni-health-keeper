{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/code/project/wechat/health/health_keeper/pages/mine/info.vue?5eaf","webpack:///E:/code/project/wechat/health/health_keeper/pages/mine/info.vue?9c30","webpack:///E:/code/project/wechat/health/health_keeper/pages/mine/info.vue?abb5","uni-app:///pages/mine/info.vue","webpack:///E:/code/project/wechat/health/health_keeper/pages/mine/info.vue?d094","webpack:///E:/code/project/wechat/health/health_keeper/pages/mine/info.vue?ca1e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AAC8K;AAC9K,gBAAgB,uLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAA2oB,CAAgB,gqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkC/pB;AACA,MADA,kBACA;AACA;AACA,cADA;AAEA,cAFA;AAGA,gBAHA;AAIA;AACA,gBADA;AAEA,kBAFA,EAJA;;;AASA,GAXA;AAYA,QAZA,oBAYA;AACA;AACA;AACA;AACA,GAhBA;AAiBA,cAjBA;;;AAoBA;AACA,cADA,wBACA;AACA;AACA,KAHA;AAIA,QAJA,kBAIA;AACA;AACA;AACA;AACA,qBADA;;AAGA;AACA,iCADA;;AAGA,KAbA;AAcA,UAdA,oBAcA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA,sBADA,EACA;AACA,0BAFA,EAEA;AACA,wBAHA,EAGA;;;;AAIA,sBAPA,EAOA;AACA,sBARA,EAQA;AACA,wBATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA,aAfA;AAgBA,cAhBA,CAgBA;AACA;AACA,WAlBA,EAkBA,KAlBA,CAkBA;;AAEA,WApBA;AAqBA,SAxBA;;AA0BA,KA1CA;AA2CA,UA3CA,kBA2CA,MA3CA,EA2CA;AACA;AACA;AACA;AACA,8BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,yBADA;AAEA,6BAFA;AAGA,YAHA,CAGA;AACA;AACA;AACA,6BADA;;AAGA;AACA,yCADA;AAEA,gBAFA;AAGA,YAXA;AAYA;AACA;AACA;AACA,iCADA;AAEA,uBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA,yBADA;;AAGA;AACA;AACA,sCADA;;AAGA,WAJA,EAIA,IAJA;AAKA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA,OAtBA,EAsBA,KAtBA,CAsBA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA,OA5BA;AA6BA,KA/FA,EApBA,E;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAA+6B,CAAgB,y6BAAG,EAAC,C;;;;;;;;;;;ACAn8B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/mine/info.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/mine/info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./info.vue?vue&type=template&id=24fbc87e&\"\nvar renderjs\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/info.vue\"\nexport default component.exports","export * from \"-!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=template&id=24fbc87e&\"","var components\ntry {\n  components = {\n    uniEasyinput: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-easyinput/uni-easyinput\" */ \"@/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<div>请设置您的个人信息</div>\r\n\t\t<view class=\"health-block\">\r\n\t\t\t<div @click=\"upload()\" class=\"health_avatar\">\r\n\t\t\t\t<image :src=\"user_data.avatar||'http://img.luckyray.cn/wxb1eb11cbeccb04cf.o6zAJsyTls2wZLWjdzVk8WlvhrLk.d8cXgV2v09EL739297c3ec0f727c32c8135aca85df15.png'\"></image>\r\n\t\t\t</div>\r\n\t\t\t<view style=\"text-align: center;\">头像</view>\r\n\t\t</view>\r\n\t\t<view class=\"health-block\">\r\n\t\t\t昵称 <uni-easyinput v-model=\"user_data.nick\" placeholder=\"昵称\"></uni-easyinput>\r\n\t\t\t手机号 <uni-easyinput v-model=\"user\" placeholder=\"手机号\"></uni-easyinput>\r\n\t\t\t<view class=\"health-pass-update\">\r\n\t\t\t\t<view>登录密码</view>\r\n\t\t\t\t<view @click=\"openDialog()\">修改密码></view>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"health-btn\" @click=\"update()\">提交</button>\r\n\t\t\t<button class=\"health-btn\" type=\"default\" @click=\"quit()\">退出登录</button>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\" type=\"center\">\r\n\t\t    <view class=\"health-popup\">\r\n\t\t\t\t<view style=\"width: 300px;\">\r\n\t\t\t\t\t密码\r\n\t\t\t\t\t<uni-easyinput type=\"password\" v-model=\"pass\" placeholder=\"密码\" width=\"\"></uni-easyinput>\r\n\t\t\t\t\t再次输入密码\r\n\t\t\t\t\t<uni-easyinput type=\"password\" v-model=\"repass\" placeholder=\"再次输入密码\"></uni-easyinput>\r\n\t\t\t\t\t<button type=\"default\" @click=\"update(true)\">确定修改</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser: '',\r\n\t\t\t\tpass: '',\r\n\t\t\t\trepass:'',\r\n\t\t\t\tuser_data:{\r\n\t\t\t\t\tnick: '',\r\n\t\t\t\t\tavatar: '',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(){\r\n\t\t\tconst user = uni.getStorageSync('user');\r\n\t\t\tthis.user = user.user;\r\n\t\t\tthis.user_data = {...this.user_data,...(user.user_data||{})}\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenDialog(){\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tquit(){\r\n\t\t\t\tuni.setStorageSync('jwtToken', '')\r\n\t\t\t\tuni.setStorageSync('user', '');\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t    title: '退出成功',\r\n\t\t\t\t});\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/login/index'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupload(){\r\n\t\t\t\tconst that = this;\r\n\t\t\t\tconst file = uni.chooseImage({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconst file = res.tempFilePaths[0];\r\n\t\t\t\t\t\tthat.http.upload('http://localhost:3000/api/upload', {\r\n\t\t\t\t\t\t    params: {}, /* 会加在url上 */\r\n\t\t\t\t\t\t    filePath: file, // 要上传文件资源的路径。\r\n\t\t\t\t\t\t    name: 'file', // 文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容\r\n\t\t\t\t\t\t    // #ifdef H5 || APP-PLUS\r\n\t\t\t\t\t\t    timeout: 3000, // H5(HBuilderX 2.9.9+)、APP(HBuilderX 2.9.9+)\r\n\t\t\t\t\t\t    // #endif\r\n\t\t\t\t\t\t    header: {}, /* 会与全局header合并，如有同名属性，局部覆盖全局 */\r\n\t\t\t\t\t\t    custom: {}, // 自定义参数\r\n\t\t\t\t\t\t    formData: {}, // HTTP 请求中其他额外的 form data\r\n\t\t\t\t\t\t    // 返回当前请求的task, options。请勿在此处修改options。非必填\r\n\t\t\t\t\t\t    getTask: (task, options) => {\r\n\t\t\t\t\t\t      // setTimeout(() => {\r\n\t\t\t\t\t\t      //   task.abort()\r\n\t\t\t\t\t\t      // }, 500)\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t  }).then(({data:{data}}) => {\r\n\t\t\t\t\t\t    that.user_data = {...that.user_data, avatar: data};\r\n\t\t\t\t\t\t  }).catch(err => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdate(isPass) {\r\n\t\t\t\tif(isPass){\r\n\t\t\t\t\tif(this.pass !== this.repass){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'两次输入的密码不同',\r\n\t\t\t\t\t\t\ticon: null\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.http.post('http://localhost:3000/api/user/update/pass',{\r\n\t\t\t\t\t\tpass:this.pass,\r\n\t\t\t\t\t\trepass: this.repass\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.code === 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'更新密码成功',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(i=>uni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/login/index'\r\n\t\t\t\t\t\t\t}), 1500)\r\n\t\t\t\t\t}})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.http.post('http://localhost:3000/api/user/update',{\r\n\t\t\t\t\tuser_data: this.user_data,\r\n\t\t\t\t\tuser: this.user\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.data.code === 0) {\r\n\t\t\t\t\t\tuni.setStorageSync('jwtToken', res.data.data.token)\r\n\t\t\t\t\t\tuni.setStorageSync('user', res.data.data.payload)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '更新成功',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl: '/pages/mine/index'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '更新失败',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.health-btn{\r\n\t\twidth: 200px;\r\n\t\tmargin: 8px auto;\r\n\t}\r\n\t.health_avatar{\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t\tmargin: 15px auto;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\t.health_avatar image{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\t\t\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\t.health-pass-update{\r\n\t\tdisplay:flex;justify-content:space-between;\r\n\t\t\theight: 30px;\r\n\t\t\tmargin: 5px 0;\r\n\t}\r\n\t.health-pass-update view:nth-child(2){\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #BCBEC2;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1618564603598\n      var cssReload = require(\"D:/program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}